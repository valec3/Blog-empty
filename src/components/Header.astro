---
import Image from 'astro/components/Image.astro';
import logoImg from '../assets/logo-v1.png';
import { navOptions } from '../constants';
---
<header class=" p-4 bg-white text-primary ">
    <div class="max-w-5xl mx-auto flex justify-between items-center">
        <button class="border cursor-pointer block md:hidden">
            M
        </button>
        <a href="#home">
            <Image src={logoImg} alt="" class="size-20 p-2 object-contain bg-green-800 rounded-full" width="100" height="100" />
        </a>
        <nav class="hidden md:flex justify-between items-center gap-x-8">
            {
                navOptions.map((option) => (
                    <a href={option.path} class="border-b-2 border-primary font-bold" key={option.title}>
                        {option.title}
                    </a>
                ))
            }
        </nav>
        <a
            class="border border-green-800 text-green-800 px-4 py-2 rounded-md hover:bg-green-800 hover:text-white transition duration-300 ease-in-out cursor-pointer"
            href="https://api.whatsapp.com/send?phone=573053000000&text=Hola%20quiero%20reservar%20una%20mesa%20en%20el%20cafe.%20Gracias"
            target="_blank"
        >
        Reservar
        </a>
    </div>
</header>

<script>
    const navLinks = document.querySelectorAll('nav a');
    const $header = document.querySelector('header') as HTMLElement;
    const currentPath = window.location.pathname;

    navLinks.forEach(link => {
        if (link.getAttribute('href') === currentPath) {
            link.classList.add('border-b-2', 'border-primary');
        } else {
            link.classList.remove('border-b-2', 'border-primary');
        }
    });


    $header.addEventListener('click', (e) => {
        if (e.target.tagName === 'A') {
            navLinks.forEach(link => {
                link.classList.remove('border-b-2', 'border-primary');
            });
            e.target.classList.add('border-b-2', 'border-primary');
        }
    });

</script>