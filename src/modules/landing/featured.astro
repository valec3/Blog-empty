---
import Image from "astro/components/Image.astro";
import IcedCoffeImage from "@/assets/featured/iced-coffe.png"
import CoffeEspressoImage from "@/assets/featured/coffe-espresso.png"
import OrnamentImage from "@/assets/featured/adorno.png"
---

<section class="bg-tertiary py-10 md:py-16">
    <div id="carrousel" class="max-w-5xl mx-auto px-4 md:px-10">
        <div class="carrousel-item grid grid-cols-2 gap-10 opacity-100" data-active>
            <Image
                src={IcedCoffeImage}
                alt="Iced Coffe"
                class="object-contain w-full h-full"
            />
            <div class="text-white flex flex-col gap-y-2">
                <Image
                    src={OrnamentImage}
                    alt="Ornament"
                    class="object-contain size-20 md:size-40"
                />
                <h2 class="font-droid-serif text-2xl md:text-[3rem] xl:text-[4.5rem]">Iced Coffe</h2>
                <h3 class="text-sm md:text-[1.2rem] xl:text-[1.5rem]">MEZCLA DE ESPRESSO Tostado Localmente</h3>
                <p class="text-[10px] md:text-[1rem] hidden md:block">El delicado y crujiente sabor de los mejores granos de café se combina con leche fresca y cremosa, servido sobre hielo refrescante.</p>
                <a href="/menu" class="w-fit mt-6 text-[#edb880] py-2 md:py-4 px-6 md:px-10 uppercase font-bold font-sans border border-[#edb880]">Ver menu</a>
            </div>
        </div>
        <div class="carrousel-item grid grid-cols-2 gap-10 opacity-0">
            <Image
                src={CoffeEspressoImage}
                alt="Iced Coffe"
                class="object-contain w-full h-full"
            />
            <div class="text-white flex flex-col gap-y-2">
                <Image
                    src={OrnamentImage}
                    alt="Ornament"
                    class="object-contain size-20 md:size-40"
                />
                <h2 class="font-droid-serif text-2xl md:text-[3rem] xl:text-[4.5rem]">Espresso</h2>
                <h3 class="text-sm md:text-[1.2rem] xl:text-[1.5rem]">MEZCLA DE ESPRESSO Tostado Localmente</h3>
                <p class="text-[10px] md:text-[1rem] hidden md:block">Cada taza es una obra maestra, donde agua caliente a presión atraviesa los mejores granos de café finamente molidos y compactados.</p>
                <a href="/menu" class="w-fit mt-6 text-[#edb880] py-2 md:py-4 px-6 md:px-10 uppercase font-bold font-sans border border-[#edb880]">Ver menu</a>
            </div>
        </div>
    </div>
</section>

<style>
    #carrousel{
        position: relative;
    }
    .carrousel-item{
        position: absolute;
        top: 0;
        left: 0;
        transition: opacity 0.3s ease-out;
        padding-block: 2rem;
    }
    @keyframes fadeInLeft {
        from {
            opacity: 0;
            transform: translateX(-100%);
        }
        to {
            opacity: 1;
            transform: translateX(0);
        }
    }
</style>
<script>
    const $carrousel = document.getElementById('carrousel');
    const $carrouselItems = document.querySelectorAll('.carrousel-item');
    let index = 0;

    document.addEventListener('DOMContentLoaded', () => {
        let heightItemCarrousel = $carrouselItems[0].offsetHeight;
        $carrousel.style.height = `${heightItemCarrousel}px`;
    });

    window.addEventListener('resize', () => {
        let heightItemCarrousel = $carrouselItems[0].offsetHeight;
        $carrousel.style.height = `${heightItemCarrousel}px`;
    });
    setInterval(() => {
        $carrouselItems[index].style.opacity = 0;
        index++;
        if(index >= $carrouselItems.length) index = 0;
        $carrouselItems[index].style.opacity = 1;
    }, 8000);

</script>